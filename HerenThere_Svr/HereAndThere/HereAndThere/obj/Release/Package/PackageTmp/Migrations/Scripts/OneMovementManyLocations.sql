
IF object_id(N'[dbo].[FK_dbo.Movement_dbo.Location_locationId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Movement] DROP CONSTRAINT [FK_dbo.Movement_dbo.Location_locationId]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_locationId' AND object_id = object_id(N'[dbo].[Movement]', N'U'))
    DROP INDEX [IX_locationId] ON [dbo].[Movement]
ALTER TABLE [dbo].[Location] ADD [movementId] [bigint] NOT NULL DEFAULT 0
ALTER TABLE [dbo].[Score] ADD [point] [decimal](18, 2) NOT NULL DEFAULT 0
CREATE INDEX [IX_movementId] ON [dbo].[Location]([movementId])
ALTER TABLE [dbo].[Location] ADD CONSTRAINT [FK_dbo.Location_dbo.Movement_movementId] FOREIGN KEY ([movementId]) REFERENCES [dbo].[Movement] ([id]) ON DELETE CASCADE
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Score')
AND col_name(parent_object_id, parent_column_id) = 'polong';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Score] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[Score] DROP COLUMN [polong]
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201610280803517_OneMovementManyLocations', N'HereAndThere.Migrations.Configuration',  0x1F8B0800000000000400ED5DDB6EE4B8117D0F907F10F494045EB7ED0D161BA37B17BE8CB346C66363DA1EE4CD604B745B882EBD1265B811E4CBF6219F945F08A92BAF92A8564B6AAF300FE3E6A5582C561D9245B2F4BFDFFE3BFFF9DD738D3718464EE02FCCD3E313D380BE15D88EBF5E98317AF9EE47F3E79FFEF887F927DB7B37BEE5E5BE27E5704D3F5A98AF086DCE67B3C87A851E888E3DC70A83287841C756E0CD801DCCCE4E4EFE363B3D9D414CC2C4B40C63FE35F691E3C1E407FE7915F816DCA018B877810DDD284BC739CB84AAF1057830DA000B2ECC5F60082F7CFBF115FF7F9C16378D0BD701989525745F4C03F87E8000C28C9E3F457089C2C05F2F373801B88FDB0DC4E55E801BC1AC03E765F1A67D3939237D9995157352561CA1C0D32478FA7D269C195FBD9588CD4278587C9FB098D196F43A11E1C2BC0C62DF06E1D634F8C6CEAFDC9014944AF838AF7764D0B947854660C521FF8E8CABD8457108173E8C5108DC23E3215EB98EF50FB87D0CFE05FD851FBB2ECD226612E7310938E9210C363044DBAFF02563DCB14D63C6D69BF1158B6A549DB44BB73EFAE1AFA6F105370E562E2C3480EAFE120521FC3BF4610810B41F004230C403786BC3448642EB5C5B1E40D6EB6D6D83D5445CCC0A8A6D9853B98696E301D7341E42FC5766A23F9AC6D20284E6997E03D814F6DB82154222BF823EFEF1882DBD2D9DCB6D4E09DB31C624D3B803EF9FA1BF46AF1885307B37CE3BB4F3848CF293EF6004C3755018EBB7EC61F07B713AE8424E68EF7D98CF4A3BAFB4FECF8195018B9EF5E7F526EBFFB886EB4417169981F3062E83C085C06F41E71B660797DF959017BC410F8B7F57509D10A97F44C24D7F016FCE3A312EC5B89AC657E82605A25767932EDE30E0A499CF6E06397871771306DED780B424E63E3F82700D31ADC740596419C4A1D51632EF0A6EF52033AF3741A6A2AD8D0BB630DCD5B8BB597665AA3221CDC7421A0A43BA809A1C472AA02647A3C65848D457CE1DC979CEB192658DCD122190CB97E15F1553A9654AB97A48B2E46CF179025F4281DD8039159D262A934A1324578129696C02C28F0584ABD47BE340051226804117E2C1A6CC1351902FD00A038968D4BC91DCE7A49C84393A538E854C095D34A4B06E3798960B4E84CBA68C4516367639574B92F59C4D2E254754B220283A6F775C4E87B3053693EC099F156DF9C083BD23A10D232B7436A9DB48D936FEB351E3D3BC7148F34601B9BB03B314FDA4D0DD0A7512F8D2459CA4D284362A0DEC626BDDCD2E7F1338C403331D59FC7E50A7EDBA86C719D99AA7BB8D70BE061376C169866A0B9CE5EEB4CE7AC898D383BCB4D684798AB6065961A56A36EDBB3F209255EE1DB59C693CAE29BD6D7AE0A6DC773F14D9CF6949097B74AE02EA9822BA5BEF8A1D6E43FC55488D43E71DF0B7CD46B7AC39E1F0987078DAE9FE7E91BAC0B82EA0508E3A52B46C023D175114584EC21577284D1D5DB1FDFCE4DB46FD39562A6CFA2C0CCB1C238EB3C1188319C1FB2A93C7927BFF1ABA1041E3C24A6F385E81C802B6286ADC195B83A962FA28992A6F2BB14CFD45680B031BC64F9FDCF0BCC2C43054E2FDA288828E6F391BE0D64A86ABD91041499F8B36F89C6BB8813E01BF5A0934699CBE1A233251B4C50D489D94E6334AD36A14903F31508EB4F2F88052BE743FD78FE6A94E2B287ECA3BB2FBD13B8548FAD03A45EF1BE95CEE0E1A4EE1186F63E508CB5D8F9CCAA56BB7FED44E7E505563075D2A9D4C2A7D699DACF38DD52EDF1B0F8875E52EAD1A5A243BB621914E721BA37ED6EF14E80481F4867342DFC70F73B4835335B0526F6739A8D94948DD88CAE93545A54E75B6957249B8EE41B124B21FBF52097E269526A89D4EA53AE46EE75E304C7DA5AC371053C9A4076553F5BE49D3E5B9DB802AC76C99ABC758BE7FE6D5AEC7155B9587B3CE1A3A553D99647A533E59FF9BABDFA0CB36D6435C8330BCBB7858BCE30F0FB527F75D908E15457F30C7767A741897BAE6701D846BC030638176DF5FAF482E7C973D15798A6076241065AE4A5E0508F52544920B9BA55350F04F086B3A960A75B15D20523AD76A8850C753029172EEAD23925F111249A4CBCB26F513F1A948A453430D99FCB8482091D9554DF5C2FB2BD4CF51A21101553FE8398E23442965494DF680812AA87EE6C05B4B236F71D117462504CB6BE4E4A56851BCF340C976BA8940847BCC1271547A2E9BF92E6951E48A5D250895CF91A24333DD8D1CD8AB790A41A83D6A0D7D6ABC2832DDAE9386D415562FD6D63A4169AC4A2514DBA3462E9E560A21EE6A9A98580B1130B7A6C4EE2B7D0EB55E078ADF1C592B7A2DF333EC65C8C57B1562A7ABF7C4CD76C514F3C5CC50D17FE566764FC32E3BB6540942BD536BBA571384518F04155BAC7AD1B6D78B5C55954A21DB3234D834B453076EAD5F6B5215FDCECF8F8B456A91379FA57174B284F94C1170677E07361BC75F530178B214639946DFB9FA6EA91F95C64B69CC2C46A8FC92BA6809052158432E17378D39BD71C2085D030456809CEE5FD99E504CBE2457ACCBF2368555B7386EF9622DAF42FE1637017CBC1CC946262370833B494C3DE92FA4C65D5DD520F190800B42C9CD9CABC08D3D5FBD2153D72E9C933409A5C7524DA78C8141132A53352895C12E18526572735AC5451B9A5291A84D875C529150BA14366395122FAECE30222F52F529F16CD1E922B5F98CD34161FB2CA8BBE0C3600DA89179556D40F4ACABD8BCEA5B97BAEA7EAC6B9C5651067B617A56A4EA502AC2BDB0A48A641D6D2EAFB5B0DAACBEEEA2A63659FE682CBF6A99AD67F985C749DFF2D555F763F9A57B92A6A1765A568C7557333415E7848590327DB2AF43B42FA50747D3BA644E8026A625AFB7C7F56A7EB4245884EACC494D6FD2E371E971EA38E84495135F7A4B7596D7DD8F4AA7CF1DE8FA694A730ACCDB059A10933119C5011A85D21DA56710E91197BE3128EA8DDB17D1DDDA2B7B7ACE90499326633A406352FBB8F5AC293BF0D5372755C5B14E2CEC4D1ED19AA6F5D6C15B43370B2EEAF6425BAB98965C935D70B4F66917C279195FA468BD3837E3CEC7E6D95955FD572B84C3ABB408096213BC393639B85A6E2304BD6352E078F9AB7BE53AC9CDAABCC01DF09D1718A1F4E1B77976727AC67DF7623CDFA0984591ED4ACEFAA8E7F3F253AE3E5EAFAF9C75B27EAB7DA2BE5B28E2BC19E12EE0AD6FC3F785F9EFA4DAB971FBCFE7ACE691711FE2813E374E8CFFECFCE9087BEF11E83B6F817B136FE31FA89337F1FE1B08AD57100A2FCA777CF2DE9A43F1C97B3B16F53FFCF061ACED03E83BFFC585958376FFDA421B22E2971674C0ABA8BC137E4DC6BF37E3971F7C1DB2F1F3510535D435AFBA93B20E3CD50B9F2BC819986C6E34362779C27BC00627890CAFABF469ED698E18B1BE8AFE9743D6D9D49FD3ED004B4284E5A4FFE481F73FD3045B84019B34BA3B8D969C5B1DB2360FBBE4187AC1C504809E1C0F876385B2E3AE433643F9A4A23683DBE8C9777E8DB1293CE2E98068FE6E9A208B15AC6D8CD3526CFC2633ADC5A6B5D8A1AA7427014B878C4F5A0647A078E8291C691F21372ADECF886D1D58B0D1C102EE9561392806FA8825DA87C654BC679468CCA1850A1D3E3668FF81407B8BC3F811C37C0E17D55367763C3490D19A02C71FA873584DC9421A51ADEF3378586F3AA2BAC63E3605D10CBA395CCCB9211045797B7A584839C4A099638892394448CCFE22137EC48097C3C14DBFD3527F40D37C5E1A41D84A31940E3F5C6CDCC272175B3A7C840D6E7AA37961DAAB008F6FEA346A1CAAB274AE082D9459B2161AC7B12CA734A185324BD642E32097D9EA4E249FA64B69378A7E49ED48E5C4D33C650369764D2399190A0D64E932E2CDA266E6F02250CE3364A41B06D4A4273C057DB56C46146F9309FCA55238858B92AAA9348671C4D2647B29537D85438DAAA644943185C9143B2AD3B236021A45044CCD71D452F2A1E25BB6E9180399D463E9DDBBB49710960CA77280ED75DCF61AA052D2D95A1B6C2CA6E1834FEA8EE5EEAAAA115D527C158757B0B14FCE2AD35FD73072D6258939A6E9438B59BB16656EFD97205F44731CE545B8E3CD3B88808D17B61721725E808570B605A328F9A4E437E0C6B8C8276F05ED5BFF3E469B18E12E436FE532530A598A57B59F84D064799EDF2767D151175DC06C3AE478F7DEBF8C1DD72EF8BE911CC22A4890357E76824FC6129193FCF5B6A0F425F01B12CAC4576C4D1EA1870D11C1E8DE5F8237D886B7A7087E866B606DF3C78D6A22F503C18A7D7EED807508BC28A351D6C73FB10EDBDEFB4FFF077E7795CDF89C0000 , N'6.1.3-40302')